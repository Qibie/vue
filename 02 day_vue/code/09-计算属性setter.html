<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		* {
			padding: 0px;
			margin: 0px;
		},
		ul {
			list-style: none;
		},
		ul li {
			margin: 20px 20px;
			padding: 10px 5px;
			border-radius: 3px;
		}
		ul li.active{
			background-color: #6ff;
		}
	</style>
</head>
<body>
	<div id="app">
		<audio :src="getCurrentSongSrc" autoplay controls></audio>
		<ul>
			<li v-for='(item, index) in musicData' @click='clickHandler(index)' :class='{active:currentIndex===index}'>
				<h2>{{item.id}} - 歌名：{{item.name}}</h2>
				<p>歌手：{{item.songSrc}}</p>
			</li>
		</ul>
	</div>
	<script type="text/javascript" src="../vue.min.js"></script>
	<script type="text/javascript">
		var musicData = [
			{id:1,name:'光年之外-邓紫棋',author:'邓紫棋',songSrc:'./static/光年之外-邓紫棋.mp3'},
			{id:2,name:'沙漠骆驼-展展与罗罗',author:'展展与罗罗',songSrc:'./static/沙漠骆驼-展展与罗罗.mp3'},
		];
		new Vue({
			el:'#app',
			data(){
				return{
					musicData: musicData,
					currentIndex: 0
				}
			},
			computed:{
				//计算属性默认只有getter
				// setter也可以
				// getCurrentSongSrc:function(){
				// 	return this.musicData[this.currentIndex].songSrc;
				// }
				getCurrentSongSrc:1{
					set:function(newV){
						console.log(newV);
						this.currentIndex=newV
					},
					get:function(){
						return this.musicData[this.currentIndex].songSrc
					}
				}
			},
			methods:{
				clickHandler(index){
					// 直接修改的数据属性
					// this.currentIndex = index
					// 点语法 set方法和get方法
					// getter方法
					console.log(this.getCurrentSongSrc);
					// setter方法
					this.getCurrentSongSrc = index;
				}
			}
		})
	</script>
</body>
</html>